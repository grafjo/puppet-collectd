# Generated by Puppet

LoadPlugin tail

<Plugin "tail">
  <File "/var/log/exim4/mainlog">
    Instance "exim"
    <Match>
      Regex "<="
      DSType "CounterInc"
      Type "email_type"
      Instance "incoming"
    </Match>
    <Match>
      Regex "=>"
      DSType "CounterInc"
      Type "email_type"
      Instance "outgoing"
    </Match>
    <Match>
      Regex "=="
      DSType "CounterInc"
      Type "email_type"
      Instance "defer"
    </Match>
    <Match>
      Regex "\\*\\*"
      DSType "CounterInc"
      Type "email_type"
      Instance "bounce"
    </Match>
    <Match>
      Regex "IP connection count = ([1-9][0-9]*)"
      DSType "GaugeAverage"
      Type "gauge"
      Instance "connection_count"
    </Match>
    <Match>
      Regex "Spam_checked  Spam-Score: ([5-9]|[1-9][0-9])"
      DSType "CounterInc"
      Type "email_type"
      Instance "saspam"
    </Match>
    <Match>
      Regex "R=virtdomain"
      DSType "CounterInc"
      Type "email_type"
      Instance "router-virtdomain"
    </Match>
    <Match>
      Regex "R=smarthost"
      DSType "CounterInc"
      Type "email_type"
      Instance "router-smarthost"
    </Match>
    <Match>
      Regex "R=dnslookup"
      DSType "CounterInc"
      Type "email_type"
      Instance "router-dnslookup"
    </Match>
    <Match>
      Regex "R=system_aliases"
      DSType "CounterInc"
      Type "email_type"
      Instance "router-system_aliases"
    </Match>
    <Match>
      Regex "R=fail"
      DSType "CounterInc"
      Type "email_type"
      Instance "router-fail"
    </Match>
  </File>
</Plugin>
